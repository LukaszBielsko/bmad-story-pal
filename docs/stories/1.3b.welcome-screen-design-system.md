# Story 1.3b: Welcome Screen & Design System

## Status
Draft

## Story

**As a** parent,
**I want** to see a welcoming interface when I open the StoryMagic app,
**so that** I feel confident and comfortable using it during bedtime routines.

## Acceptance Criteria

1. Welcome screen displays with clean, bedtime-appropriate design following "Evening Sanctuary" principles
2. Core design system components implemented (buttons, cards, typography) for consistent UI
3. Welcome screen receives positive feedback from 3 test parents during validation
4. Navigation supports one-handed operation for busy parents
5. App icons and splash screen configured for iOS and Android platforms
6. Basic app loading states and error boundaries protect user experience

## Tasks / Subtasks

- [ ] Task 1: Implement Welcome Screen (AC: 1, 4)  
  - [ ] Create `app/welcome.tsx` as initial welcome screen
  - [ ] Implement bedtime-appropriate design following "Evening Sanctuary" principles
  - [ ] Add welcome message and navigation to main app
  - [ ] Ensure large touch targets for one-handed operation

- [ ] Task 2: Implement Authentication Flow Navigation (AC: 4)
  - [ ] Update `app/_layout.tsx` for root navigation structure
  - [ ] Create `app/(auth)/` group for authentication screens
  - [ ] Implement navigation from welcome → auth flow using Expo Router
  - [ ] Test authentication navigation without complex dependencies

- [ ] Task 3: Implement Main App Navigation Structure (AC: 4)
  - [ ] Create `app/(main)/` group for authenticated app screens  
  - [ ] Implement tab layout in `app/(main)/(tabs)/_layout.tsx`
  - [ ] Plan story-related screens: library, create, profile
  - [ ] Configure Expo Router navigation between auth and main flows

- [ ] Task 4: Implement Core Design System Components (AC: 2)
  - [ ] Create design system components for Expo Router screens
  - [ ] Build components supporting navigation state and routing
  - [ ] Test components within Expo Router context
  
- [ ] Task 5: Configure App Loading States and Error Boundaries (AC: 6)
  - [ ] Create ErrorBoundary for Expo Router error handling
  - [ ] Implement loading states in `app/_layout.tsx`
  - [ ] Add error handling for navigation failures
  - [ ] Test error scenarios within router context
  
- [ ] Task 6: Set up App Icons and Splash Screen (AC: 5)
  - [ ] Configure app.json with basic app metadata and branding
  - [ ] Add placeholder app icons following platform guidelines
  - [ ] Set up basic splash screen configuration matching welcome screen theme
  - [ ] Test app launch sequence and visual continuity

- [ ] Task 7: User Experience Validation (AC: 3)
  - [ ] Prepare demo version for parent testing
  - [ ] Conduct feedback sessions with 3 target parents
  - [ ] Document feedback and iterate on welcome screen design
  - [ ] Validate against "Evening Sanctuary" design principles

## Dev Notes

### User Experience Requirements

#### Evening Sanctuary Design Principles [Source: prd/user-interface-design-goals.md]
- **Calming Visual Design:** Soft, bedtime-appropriate colors (deep blues, warm purples, gentle whites)
- **Minimal Cognitive Load:** Clean, distraction-free interface for tired parents
- **Touch-Friendly:** Large touch targets for one-handed operation during bedtime routines
- **Immediate Confidence:** Clear, reassuring visual cues that this is a safe family app

#### Target User Context [Source: prd/goals-and-background-context.md]
- **Primary Users:** Polish parents, ages 25-40, using app during evening routines
- **Usage Context:** Often tired, multi-tasking, need quick and intuitive interactions
- **Device Context:** Primarily mobile phones, potentially dim lighting conditions

### Technical Architecture Context

#### Navigation Architecture [Updated for Expo Router]
- **Router:** Expo Router with file-based routing (replaces React Navigation)
- **Authentication Flow:** app/welcome.tsx → app/(auth)/ screens  
- **Main App Flow:** app/(main)/(tabs)/ for authenticated navigation
- **Navigation Benefits:** Simplified routing, better TypeScript support, automatic deep linking

#### Component Architecture Standards [Source: architecture/frontend.md]
- **Component Structure:** Props interface, hooks first, event handlers, early returns
- **Design System:** Consistent typography, spacing, and color schemes
- **Performance:** React.memo for preventing unnecessary re-renders
- **Accessibility:** Basic touch targets (44px minimum) for mobile usability

#### Planned Project Structure [Expo Router Implementation]
```
apps/mobile/app/
├── _layout.tsx          # Root app layout
├── welcome.tsx          # Welcome/landing screen
├── (auth)/              # Authentication flow group
│   ├── _layout.tsx      # Auth navigation layout
│   └── sign-in.tsx      # Authentication screens (future)
├── (main)/              # Main authenticated app group  
│   ├── _layout.tsx      # Main app layout
│   └── (tabs)/          # Tab navigation group
│       ├── _layout.tsx  # Tab configuration
│       ├── index.tsx    # Home/dashboard
│       ├── library.tsx  # Story library  
│       ├── create.tsx   # Story creation
│       └── profile.tsx  # User profile
└── components/common/   # Shared components
```

#### Development Environment Requirements [Source: architecture/coding-standards.md]
- **TypeScript:** Strict mode enabled with explicit component prop typing
- **React Native Standards:** Functional components with hooks, proper cleanup
- **File Naming:** PascalCase for components, camelCase for utilities
- **Import Pattern:** Named imports preferred, consistent component exports

### Design System Requirements

#### Color Palette (Evening Sanctuary Theme)
```typescript
// Bedtime-appropriate color scheme
primary: '#4A5568',      // Soft slate gray
secondary: '#6B46C1',    // Gentle purple
background: '#F7FAFC',   // Warm white
text: '#2D3748',         // Dark gray for readability
accent: '#EDF2F7',       // Light background accents
```

#### Typography Hierarchy
- **Headers:** Clear, readable fonts optimized for tired parents
- **Body Text:** 16px minimum for easy reading in dim light
- **Interactive Elements:** Clear labeling with sufficient contrast

#### Component Specifications
- **Button:** Minimum 44px touch target, clear visual states
- **Card:** Subtle shadows, rounded corners, consistent padding
- **Loading States:** Non-intrusive, calming animation

### Critical Implementation Guidelines

1. **User Testing Integration** - Plan for parent feedback collection during development
2. **Accessibility Focus** - Large touch targets and clear visual hierarchy
3. **Performance Optimization** - Lightweight components for fast loading
4. **Platform Consistency** - Follow iOS and Android platform guidelines
5. **Error Handling** - Graceful fallbacks that don't frustrate tired parents

### Dependencies
- **Requires:** Story 1.3a (Basic App Infrastructure) completed with Expo Router
- **Navigation:** Uses Expo Router file-based routing instead of React Navigation
- **Foundation:** Builds on working Expo 53 + React Native 0.79.5 setup from 1.3a

### User Validation Plan
1. **Recruit 3 target parents** from Polish families with children ages 3-8
2. **Testing scenarios:** First app open, navigation exploration, error recovery
3. **Feedback collection:** Comfort level, visual appeal, ease of use
4. **Iteration criteria:** Must achieve positive feedback from all 3 parents

### Testing Requirements [Source: architecture/coding-standards.md]
- **Component Testing:** Each design system component tested in isolation
- **User Flow Testing:** Welcome screen to navigation transition
- **Visual Testing:** Screenshot comparison across platforms
- **Accessibility Testing:** Touch target size validation, contrast checking

### Project Structure Notes
File paths align with defined mobile app structure. Components build upon navigation foundation from Story 1.3a.

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-08-25 | 1.0 | Initial welcome screen and design system story split from 1.3 | Bob (Scrum Master) |

## Dev Agent Record

*This section will be populated by the development agent during implementation*

### Agent Model Used
*To be filled by dev agent*

### Debug Log References
*To be filled by dev agent*

### Completion Notes List
*To be filled by dev agent*

### File List
*To be filled by dev agent*

## QA Results

*Results from QA Agent review will be added here after implementation*